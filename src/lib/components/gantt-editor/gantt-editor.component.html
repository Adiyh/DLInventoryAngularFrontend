
<div class="gantt-editor">
  <form [formGroup]="ganttForm" class="top-bar" (ngSubmit)="showGanttChart()">
    <label>
      Project Name:
      <input formControlName="projectName" required />
    </label>
    <label>
      Target Version:
      <input formControlName="targetVersion" required />
    </label>
    <button type="submit" [disabled]="ganttForm.invalid || ganttChartLoading">Load</button>
  </form>
<div class="gantt-editor-container">
  <div class="gantt-grid-section">
    <h4>Task List</h4>
    <table class="gantt-grid-table">
      <thead>
        <tr>
          <th>Summary</th>
          <th>Resource</th>
          <th>Start</th>
          <th>End</th>
          <th>Progress</th>
          <th>Dependency</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let task of ganttChartData" (dblclick)="onRowDblClick(task)">
          <td>{{ task.text || task.summary }}</td>
          <td>{{ getResourceName(task.id) }}</td>
          <td>{{ task.start | date:'yyyy-MM-dd' }}</td>
          <td>{{ task.end | date:'yyyy-MM-dd' }}</td>
          <td>{{ task.progress ? (task.progress) + '%' : '-' }}</td>
          <td>{{ getDependency(task.id) }}</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="gantt-separator"></div>
  <div class="gantt-chart-section">
    <dx-gantt
      *ngIf="ganttChartReady"
      [tasks]="{ dataSource: ganttChartData }"
      [dependencies]="{ dataSource: ganttDependencies }"
      [resources]="{ dataSource: ganttResources }"
      [resourceAssignments]="{ dataSource: ganttAssignments }"
      [height]="500">
    </dx-gantt>
    <div *ngIf="ganttChartLoading" class="gantt-loading">Loading chart...</div>
  </div>
</div>